define version=2643
@update_header

-- Data tables
CREATE TABLE CSRIMP.CT_CUSTOMER_OPTIONS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COPY_TO_INDICATORS NUMBER(1,0) NOT NULL,
	HIDE_BT NUMBER(1,0) NOT NULL,
	HIDE_EC NUMBER(1,0) NOT NULL,
	IS_ALONGSIDE_CHAIN NUMBER(1,0),
	IS_VALUE_CHAIN NUMBER(1,0),
	SNAPSHOT_TAKEN NUMBER(1,0),
	SUPPLIER_COMPANY_TYPE_ID NUMBER(10,0) NOT NULL,
	TOP_COMPANY_TYPE_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT FK_CT_CUSTOMER_OPTIONS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_COMPANY (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BUSINESS_TYPE_ID NUMBER(10,0) NOT NULL,
	CURRENCY_ID NUMBER(10,0) NOT NULL,
	EIO_ID NUMBER(10,0) NOT NULL,
	FTE NUMBER(10,0) NOT NULL,
	INCLUDE_HOTEL_STAYS NUMBER(1,0) NOT NULL,
	PERIOD_ID NUMBER(10,0) NOT NULL,
	SCOPE_1 NUMBER(15,2),
	SCOPE_2 NUMBER(15,2),
	SCOPE_INPUT_TYPE_ID NUMBER(10,0),
	TURNOVER NUMBER(25,0) NOT NULL,
	USE_RADIATIVE_FORCING NUMBER(1,0) NOT NULL,
	CONSTRAINT PK_CT_COMPANY PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID),
	CONSTRAINT FK_CT_COMPANY_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BREAKDOWN_TYPE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_TYPE_ID NUMBER(10,0) NOT NULL,
	BY_FTE NUMBER(1,0) NOT NULL,
	BY_TURNOVER NUMBER(1,0) NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	IS_HOTSPOT NUMBER(1,0) NOT NULL,
	IS_REGION NUMBER(1,0) NOT NULL,
	PLURAL VARCHAR2(1024) NOT NULL,
	REST_OF VARCHAR2(1024) NOT NULL,
	SINGULAR VARCHAR2(1024) NOT NULL,
	CONSTRAINT PK_CT_BREAKDOWN_TYPE PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_TYPE_ID),
	CONSTRAINT FK_CT_BREAKDOWN_TYPE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BREAKDOWN (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_TYPE_ID NUMBER(10,0) NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	DESCRIPTION VARCHAR2(1024) NOT NULL,
	FTE NUMBER(10,0) NOT NULL,
	FTE_TRAVEL NUMBER(10,0) NOT NULL,
	IS_REMAINDER NUMBER(1,0) NOT NULL,
	REGION_ID NUMBER(10,0),
	TURNOVER NUMBER(25,0) NOT NULL,
	CONSTRAINT PK_CT_BREAKDOWN PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_ID),
	CONSTRAINT FK_CT_BREAKDOWN_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BREAKDOWN_GROUP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_TYPE_ID NUMBER(10,0) NOT NULL,
	DELETED NUMBER(1,0) NOT NULL,
	GROUP_KEY VARCHAR2(40) NOT NULL,
	IS_DEFAULT NUMBER(1,0) NOT NULL,
	NAME VARCHAR2(1024) NOT NULL,
	CONSTRAINT PK_CT_BREAKDOWN_GROUP PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_GROUP_ID),
	CONSTRAINT FK_CT_BREAKDOWN_GROUP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BREAKDOWN_REGION (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	FTE_TRAVEL NUMBER(20,10) NOT NULL,
	PCT NUMBER(3,0) NOT NULL,
	CONSTRAINT PK_CT_BREAKDOWN_REGION PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_ID, REGION_ID),
	CONSTRAINT FK_CT_BREAKDOWN_REGION_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BREAKDOWN_REGION_EIO (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	EIO_ID NUMBER(10,0) NOT NULL,
	FTE NUMBER(20,10) NOT NULL,
	PCT NUMBER(3,0) NOT NULL,
	TURNOVER NUMBER(35,10) NOT NULL,
	CONSTRAINT PK_CT_BREAKDOWN_REGION_EIO PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_ID, REGION_ID, EIO_ID),
	CONSTRAINT FK_CT_BREAKDOWN_REGION_EIO_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BREAKDOW_REGION_GROUP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_BREAKDOW_REGION_GROUP PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_GROUP_ID, BREAKDOWN_ID, REGION_ID, COMPANY_SID),
	CONSTRAINT FK_CT_BREAKDOW_REGION_GROUP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_AIR_TRIP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	TRIP_ID NUMBER NOT NULL,
	BT_ESTIMATE_TYPE_ID NUMBER(10,0),
	BT_TRAVEL_MODE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_TYPE_ID NUMBER(10,0) NOT NULL,
	DISTANCE_AMOUNT NUMBER(20,10),
	DISTANCE_UNIT_ID NUMBER(10,0),
	JOURNEY_DATE DATE,
	LAST_EDITED_BY_SID NUMBER(10,0) NOT NULL,
	LAST_EDITED_DTM DATE NOT NULL,
	TIME_AMOUNT NUMBER(20,10),
	TIME_UNIT_ID NUMBER(10,0),
	TRANSACTION_DATE DATE,
	CONSTRAINT PK_CT_BT_AIR_TRIP PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_ID, REGION_ID, TRIP_ID),
	CONSTRAINT FK_CT_BT_AIR_TRIP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_BUS_TRIP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	TRIP_ID NUMBER NOT NULL,
	BT_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_TYPE_ID NUMBER(10,0) NOT NULL,
	DISTANCE_AMOUNT NUMBER(20,10),
	DISTANCE_UNIT_ID NUMBER(10,0),
	JOURNEY_DATE DATE,
	LAST_EDITED_BY_SID NUMBER(10,0) NOT NULL,
	LAST_EDITED_DTM DATE NOT NULL,
	TIME_AMOUNT NUMBER(20,10),
	TIME_UNIT_ID NUMBER(10,0),
	TRANSACTION_DATE DATE,
	CONSTRAINT PK_CT_BT_BUS_TRIP PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_ID, REGION_ID, TRIP_ID),
	CONSTRAINT FK_CT_BT_BUS_TRIP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_CAB_TRIP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	TRIP_ID NUMBER NOT NULL,
	BT_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_TYPE_ID NUMBER(10,0) NOT NULL,
	CURRENCY_ID NUMBER(10,0),
	JOURNEY_DATE DATE,
	LAST_EDITED_BY_SID NUMBER(10,0) NOT NULL,
	LAST_EDITED_DTM DATE NOT NULL,
	SPEND_AMOUNT NUMBER(20,10),
	TIME_AMOUNT NUMBER(20,10),
	TIME_UNIT_ID NUMBER(10,0),
	TRANSACTION_DATE DATE,
	CONSTRAINT PK_CT_BT_CAB_TRIP PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_ID, REGION_ID, TRIP_ID),
	CONSTRAINT FK_CT_BT_CAB_TRIP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_CAR_TRIP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	TRIP_ID NUMBER NOT NULL,
	BT_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	BT_FUEL_ID NUMBER(10,0),
	BT_TRAVEL_MODE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_TYPE_ID NUMBER(10,0) NOT NULL,
	CURRENCY_ID NUMBER(10,0),
	DISTANCE_AMOUNT NUMBER(20,10),
	DISTANCE_UNIT_ID NUMBER(10,0),
	FUEL_AMOUNT NUMBER(20,10),
	FUEL_UNIT_ID NUMBER(10,0),
	JOURNEY_DATE DATE,
	LAST_EDITED_BY_SID NUMBER(10,0) NOT NULL,
	LAST_EDITED_DTM DATE NOT NULL,
	SPEND_AMOUNT NUMBER(20,10),
	TIME_AMOUNT NUMBER(20,10),
	TIME_UNIT_ID NUMBER(10,0),
	TRANSACTION_DATE DATE,
	CONSTRAINT PK_CT_BT_CAR_TRIP PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_ID, REGION_ID, TRIP_ID),
	CONSTRAINT FK_CT_BT_CAR_TRIP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_EMISSIONS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	CALCULATION_SOURCE_ID NUMBER(10,0) NOT NULL,
	AIR_KG_CO2 NUMBER(30,10) NOT NULL,
	BIKE_KG_CO2 NUMBER(30,10) NOT NULL,
	BUS_KG_CO2 NUMBER(30,10) NOT NULL,
	CAR_KG_CO2 NUMBER(30,10) NOT NULL,
	MOTORBIKE_KG_CO2 NUMBER(30,10) NOT NULL,
	TRAIN_KG_CO2 NUMBER(30,10) NOT NULL,
	WALK_KG_CO2 NUMBER(30,10) NOT NULL,
	CONSTRAINT PK_CT_BT_EMISSIONS PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_ID, REGION_ID, CALCULATION_SOURCE_ID),
	CONSTRAINT FK_CT_BT_EMISSIONS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_MOTORBIKE_TRIP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	TRIP_ID NUMBER NOT NULL,
	BT_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	BT_FUEL_ID NUMBER(10,0),
	BT_TRAVEL_MODE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_TYPE_ID NUMBER(10,0) NOT NULL,
	CURRENCY_ID NUMBER(10,0),
	DISTANCE_AMOUNT NUMBER(20,10),
	DISTANCE_UNIT_ID NUMBER(10,0),
	FUEL_AMOUNT NUMBER(20,10) NOT NULL,
	FUEL_UNIT_ID NUMBER(10,0),
	JOURNEY_DATE DATE,
	LAST_EDITED_BY_SID NUMBER(10,0) NOT NULL,
	LAST_EDITED_DTM DATE NOT NULL,
	SPEND_AMOUNT NUMBER(20,10),
	TIME_AMOUNT NUMBER(20,10),
	TIME_UNIT_ID NUMBER(10,0),
	TRANSACTION_DATE DATE,
	CONSTRAINT PK_CT_BT_MOTORBIKE_TRIP PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_ID, REGION_ID, TRIP_ID),
	CONSTRAINT FK_CT_BT_MOTORBIKE_TRIP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_OPTIONS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_TYPE_ID NUMBER(10,0) NOT NULL,
	EMPLOYEE_EXTRAPOLATION_PCT NUMBER(10,0) NOT NULL,
	EMPLOYEE_EXTRAPOLATION_TYPE_ID NUMBER(10,0) NOT NULL,
	INCLUDE_HOTEL_STAYS NUMBER(1,0) NOT NULL,
	TEMPORAL_EXTRAPOLATION_MONTHS NUMBER(10,0) NOT NULL,
	TEMPORAL_EXTRAPOLATION_TYPE_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_BT_OPTIONS PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID),
	CONSTRAINT FK_CT_BT_OPTIONS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_PROFILE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	AIR_DISTANCE_UNIT_ID NUMBER(10,0),
	AIR_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	AIR_TRIPS_PPY NUMBER(20,10) NOT NULL,
	AIR_TRIP_DIST NUMBER(20,10),
	AIR_TRIP_TIME_MIN NUMBER(20,10),
	AIR_USE_PCT NUMBER(3,0) NOT NULL,
	BIKE_DISTANCE_UNIT_ID NUMBER(10,0),
	BIKE_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	BIKE_TRIPS_PPY NUMBER(20,10) NOT NULL,
	BIKE_TRIP_DIST NUMBER(20,10),
	BIKE_TRIP_TIME_MIN NUMBER(20,10),
	BIKE_USE_PCT NUMBER(3,0) NOT NULL,
	BUS_DISTANCE_UNIT_ID NUMBER(10,0),
	BUS_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	BUS_TRIPS_PPY NUMBER(20,10) NOT NULL,
	BUS_TRIP_DIST NUMBER(20,10),
	BUS_TRIP_TIME_MIN NUMBER(20,10),
	BUS_USE_PCT NUMBER(3,0) NOT NULL,
	CAR_DISTANCE_UNIT_ID NUMBER(10,0),
	CAR_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	CAR_OCCUPANCY_RATE NUMBER(20,10) NOT NULL,
	CAR_TRIPS_PPY NUMBER(20,10) NOT NULL,
	CAR_TRIP_DIST NUMBER(20,10),
	CAR_TRIP_TIME_MIN NUMBER(20,10),
	CAR_USE_PCT NUMBER(3,0) NOT NULL,
	FTE_WHO_TRAVEL_PCT NUMBER(3,0) NOT NULL,
	LAST_MODIFIED_DTM DATE,
	MODIFIED_BY_SID NUMBER(10,0),
	MOTORBIKE_DISTANCE_UNIT_ID NUMBER(10,0),
	MOTORBIKE_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	MOTORBIKE_TRIPS_PPY NUMBER(20,10) NOT NULL,
	MOTORBIKE_TRIP_DIST NUMBER(20,10),
	MOTORBIKE_TRIP_TIME_MIN NUMBER(20,10),
	MOTORBIKE_USE_PCT NUMBER(3,0) NOT NULL,
	TRAIN_DISTANCE_UNIT_ID NUMBER(10,0),
	TRAIN_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	TRAIN_TRIPS_PPY NUMBER(20,10) NOT NULL,
	TRAIN_TRIP_DIST NUMBER(20,10),
	TRAIN_TRIP_TIME_MIN NUMBER(20,10),
	TRAIN_USE_PCT NUMBER(3,0) NOT NULL,
	WALK_DISTANCE_UNIT_ID NUMBER(10,0),
	WALK_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	WALK_TRIPS_PPY NUMBER(20,10) NOT NULL,
	WALK_TRIP_DIST NUMBER(20,10),
	WALK_TRIP_TIME_MIN NUMBER(20,10),
	WALK_USE_PCT NUMBER(3,0) NOT NULL,
	CONSTRAINT PK_CT_BT_PROFILE PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_GROUP_ID),
	CONSTRAINT FK_CT_BT_PROFILE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_BT_TRAIN_TRIP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	TRIP_ID NUMBER NOT NULL,
	BT_ESTIMATE_TYPE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_ID NUMBER(10,0) NOT NULL,
	BT_TRAVEL_MODE_TYPE_ID NUMBER(10,0) NOT NULL,
	DISTANCE_AMOUNT NUMBER(20,10),
	DISTANCE_UNIT_ID NUMBER(10,0),
	JOURNEY_DATE DATE,
	LAST_EDITED_BY_SID NUMBER(10,0) NOT NULL,
	LAST_EDITED_DTM DATE NOT NULL,
	TIME_AMOUNT NUMBER(20,10),
	TIME_UNIT_ID NUMBER(10,0),
	TRANSACTION_DATE DATE,
	CONSTRAINT PK_CT_BT_TRAIN_TRIP PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_ID, REGION_ID, TRIP_ID),
	CONSTRAINT FK_CT_BT_TRAIN_TRIP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_COMPANY_CONSUMPT_TYPE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	CONSUMPTION_TYPE_ID NUMBER(10,0) NOT NULL,
	VALUE NUMBER(20,10) NOT NULL,
	CONSTRAINT PK_CT_COMPANY_CONSUMPT_TYPE PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, CONSUMPTION_TYPE_ID),
	CONSTRAINT FK_CT_COMPANY_CONSUMPT_TYPE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_BUS_ENTRY (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BUS_TYPE_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	PCT NUMBER(3,0) NOT NULL,
	CONSTRAINT PK_CT_EC_BUS_ENTRY PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BUS_TYPE_ID, BREAKDOWN_GROUP_ID),
	CONSTRAINT FK_CT_EC_BUS_ENTRY_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_CAR_ENTRY (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	CAR_TYPE_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	PCT NUMBER(3,0) NOT NULL,
	CONSTRAINT PK_CT_EC_CAR_ENTRY PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, CAR_TYPE_ID, BREAKDOWN_GROUP_ID),
	CONSTRAINT FK_CT_EC_CAR_ENTRY_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_EMISSIONS_ALL (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	CALCULATION_SOURCE_ID NUMBER(10,0) NOT NULL,
	CONTRIBUTION_SOURCE_ID NUMBER(10,0) NOT NULL,
	BIKE_KG_CO2 NUMBER(30,10) NOT NULL,
	BUS_KG_CO2 NUMBER(30,10) NOT NULL,
	CAR_KG_CO2 NUMBER(30,10) NOT NULL,
	MOTORBIKE_KG_CO2 NUMBER(30,10) NOT NULL,
	TRAIN_KG_CO2 NUMBER(30,10) NOT NULL,
	WALK_KG_CO2 NUMBER(30,10) NOT NULL,
	CONSTRAINT PK_CT_EC_EMISSIONS_ALL PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_ID, REGION_ID, CALCULATION_SOURCE_ID, CONTRIBUTION_SOURCE_ID),
	CONSTRAINT FK_CT_EC_EMISSIONS_ALL_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_MOTORBIKE_ENTRY (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	MOTORBIKE_TYPE_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	PCT NUMBER(3,0) NOT NULL,
	CONSTRAINT PK_CT_EC_MOTORBIKE_ENTRY PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, MOTORBIKE_TYPE_ID, BREAKDOWN_GROUP_ID),
	CONSTRAINT FK_CT_EC_MOTORBIKE_ENTRY_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_OPTIONS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	ANNUAL_LEAVE_DAYS NUMBER(20,10) NOT NULL,
	BREAKDOWN_TYPE_ID NUMBER(10,0) NOT NULL,
	EXTRAPOLATE NUMBER(1,0) NOT NULL,
	EXTRAPOLATION_PCT NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_EC_OPTIONS PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID),
	CONSTRAINT FK_CT_EC_OPTIONS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_PROFILE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	ANNUAL_LEAVE_DAYS NUMBER(20,10) NOT NULL,
	BIKE_AVG_DIST NUMBER(20,10) NOT NULL,
	BIKE_DISTANCE_UNIT_ID NUMBER(10,0),
	BIKE_PCT_USE NUMBER(20,17) NOT NULL,
	BUS_AVG_DIST NUMBER(20,10) NOT NULL,
	BUS_DISTANCE_UNIT_ID NUMBER(10,0),
	BUS_PCT_USE NUMBER(20,17) NOT NULL,
	CAR_AVG_DIST NUMBER(20,10) NOT NULL,
	CAR_DISTANCE_UNIT_ID NUMBER(10,0),
	CAR_PCT_USE NUMBER(20,17) NOT NULL,
	LAST_MODIFIED_DTM DATE,
	MODIFIED_BY_SID NUMBER(10,0),
	MOTORBIKE_AVG_DIST NUMBER(20,10) NOT NULL,
	MOTORBIKE_DISTANCE_UNIT_ID NUMBER(10,0),
	MOTORBIKE_PCT_USE NUMBER(20,17) NOT NULL,
	TRAIN_AVG_DIST NUMBER(20,10) NOT NULL,
	TRAIN_DISTANCE_UNIT_ID NUMBER(10,0),
	TRAIN_PCT_USE NUMBER(20,17) NOT NULL,
	WALK_AVG_DIST NUMBER(20,10) NOT NULL,
	WALK_DISTANCE_UNIT_ID NUMBER(10,0),
	WALK_PCT_USE NUMBER(20,17) NOT NULL,
	CONSTRAINT PK_CT_EC_PROFILE PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_GROUP_ID),
	CONSTRAINT FK_CT_EC_PROFILE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_QUESTIONNAIRE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	EC_QUESTIONNAIRE_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	GUID RAW(16) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_EC_QUESTIONNAIRE PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, EC_QUESTIONNAIRE_ID),
	CONSTRAINT FK_CT_EC_QUESTIONNAIRE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_QUESTIONNA_ANSWERS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	EC_QUESTIONNAIRE_ID NUMBER(10,0) NOT NULL,
	EC_QUESTIONNAIRE_ANSWERS_ID NUMBER(10,0) NOT NULL,
	BIKE_DAYS NUMBER(10,0) NOT NULL,
	BIKE_DISTANCE NUMBER(20,10),
	BIKE_DISTANCE_UNIT_ID NUMBER(10,0),
	BUS_DAYS NUMBER(10,0) NOT NULL,
	BUS_DISTANCE NUMBER(20,10),
	BUS_DISTANCE_UNIT_ID NUMBER(10,0),
	BUS_TYPE_ID NUMBER(10,0),
	CAR_DAYS NUMBER(10,0) NOT NULL,
	CAR_DISTANCE NUMBER(20,10),
	CAR_DISTANCE_UNIT_ID NUMBER(10,0),
	CAR_ID NUMBER(10,0),
	MOTORBIKE_DAYS NUMBER(10,0) NOT NULL,
	MOTORBIKE_DISTANCE NUMBER(20,10),
	MOTORBIKE_DISTANCE_UNIT_ID NUMBER(10,0),
	MOTORBIKE_TYPE_ID NUMBER(10,0),
	OTHER_LEAVE_DAYS_PER_YR NUMBER(20,10),
	TRAIN_DAYS NUMBER(10,0) NOT NULL,
	TRAIN_DISTANCE NUMBER(20,10),
	TRAIN_DISTANCE_UNIT_ID NUMBER(10,0),
	TRAIN_TYPE_ID NUMBER(10,0),
	VACATION_DAYS_PER_YR NUMBER(20,10),
	WALK_DAYS NUMBER(10,0) NOT NULL,
	WALK_DISTANCE NUMBER(20,10),
	WALK_DISTANCE_UNIT_ID NUMBER(10,0),
	WORKING_DAYS_PER_WK NUMBER(20,10) NOT NULL,
	CONSTRAINT PK_CT_EC_QUESTIONNA_ANSWERS PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, EC_QUESTIONNAIRE_ID, EC_QUESTIONNAIRE_ANSWERS_ID),
	CONSTRAINT FK_CT_EC_QUESTIONNA_ANSWERS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_EC_TRAIN_ENTRY (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	TRAIN_TYPE_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_GROUP_ID NUMBER(10,0) NOT NULL,
	PCT NUMBER(3,0) NOT NULL,
	CONSTRAINT PK_CT_EC_TRAIN_ENTRY PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, TRAIN_TYPE_ID, BREAKDOWN_GROUP_ID),
	CONSTRAINT FK_CT_EC_TRAIN_ENTRY_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_HOTSPOT_RESULT (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	EIO_ID NUMBER(10,0) NOT NULL,
	BUSINESS_TRAVEL_EMISSIONS NUMBER(30,10) NOT NULL,
	COMPANY_SID NUMBER(10,0),
	DOWNSTREAM_EMISSIONS NUMBER(30,10) NOT NULL,
	EMP_COMM_EMISSIONS NUMBER(30,10) NOT NULL,
	PG_EMISSIONS NUMBER(30,10) NOT NULL,
	SCOPE_ONE_TWO_EMISSIONS NUMBER(30,10) NOT NULL,
	UPSTREAM_EMISSIONS NUMBER(30,10) NOT NULL,
	USE_EMISSIONS NUMBER(30,10) NOT NULL,
	WASTE_EMISSIONS NUMBER(30,10) NOT NULL,
	CONSTRAINT PK_CT_HOTSPOT_RESULT PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_ID, REGION_ID, EIO_ID),
	CONSTRAINT FK_CT_HOTSPOT_RESULT_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_HT_CONSUMPTION (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	HT_CONSUMPTION_TYPE_ID NUMBER(10,0) NOT NULL,
	HT_CONSUMPTION_CATEGORY_ID NUMBER(10,0) NOT NULL,
	AMOUNT NUMBER(20,10) NOT NULL,
	MASS_UNIT_ID NUMBER(10,0),
	POWER_UNIT_ID NUMBER(10,0),
	VOLUME_UNIT_ID NUMBER(10,0),
	CONSTRAINT PK_CT_HT_CONSUMPTION PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, HT_CONSUMPTION_TYPE_ID, HT_CONSUMPTION_CATEGORY_ID),
	CONSTRAINT FK_CT_HT_CONSUMPTION_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_HT_CONSUMPTION_REGION (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	HT_CONSUMPTION_TYPE_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	HT_CONSUMPTION_CATEGORY_ID NUMBER(10,0) NOT NULL,
	AMOUNT NUMBER(20,10) NOT NULL,
	CONSTRAINT PK_CT_HT_CONSUMPTION_REGION PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, HT_CONSUMPTION_TYPE_ID, REGION_ID, HT_CONSUMPTION_CATEGORY_ID),
	CONSTRAINT FK_CT_HT_CONSUMPTION_REGION_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_HT_CONS_SOURCE_BREAKD (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	HT_CONSUMPTION_TYPE_ID NUMBER(10,0) NOT NULL,
	HT_CONSUMPTION_CATEGORY_ID NUMBER(10,0) NOT NULL,
	HT_CONS_SOURCE_ID NUMBER(10,0) NOT NULL,
	AMOUNT NUMBER(20,10) NOT NULL,
	CONSTRAINT PK_CT_HT_CONS_SOURCE_BREAKD PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, HT_CONSUMPTION_TYPE_ID, HT_CONSUMPTION_CATEGORY_ID, HT_CONS_SOURCE_ID),
	CONSTRAINT FK_CT_HT_CONS_SOURCE_BREAKD_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_PS_EMISSIONS_ALL (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	EIO_ID NUMBER(10,0) NOT NULL,
	CALCULATION_SOURCE_ID NUMBER(10,0) NOT NULL,
	CONTRIBUTION_SOURCE_ID NUMBER(10,0) NOT NULL,
	KG_CO2 NUMBER(30,10) NOT NULL,
	CONSTRAINT PK_CT_PS_EMISSIONS_ALL PRIMARY KEY (CSRIMP_SESSION_ID, BREAKDOWN_ID, REGION_ID, EIO_ID, CALCULATION_SOURCE_ID, CONTRIBUTION_SOURCE_ID),
	CONSTRAINT FK_CT_PS_EMISSIONS_ALL_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_SUPPLIER (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	SUPPLIER_ID NUMBER(10,0) NOT NULL,
	COMPANY_SID NUMBER(10,0),
	DESCRIPTION VARCHAR2(200),
	NAME VARCHAR2(200) NOT NULL,
	OWNER_COMPANY_SID NUMBER(10,0) NOT NULL,
	STATUS_ID VARCHAR2(40) NOT NULL,
	CONSTRAINT PK_CT_SUPPLIER PRIMARY KEY (CSRIMP_SESSION_ID, SUPPLIER_ID),
	CONSTRAINT FK_CT_SUPPLIER_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_PS_ITEM (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	ITEM_ID NUMBER(10,0) NOT NULL,
	AUTO_EIO_ID NUMBER(10,0),
	AUTO_EIO_ID_SCORE NUMBER(20,10),
	AUTO_EIO_ID_SCORE_TWO NUMBER(20,10),
	AUTO_EIO_ID_TWO NUMBER(10,0),
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	CREATED_BY_SID NUMBER(10,0) NOT NULL,
	CREATED_DTM DATE NOT NULL,
	CURRENCY_ID NUMBER(10,0) NOT NULL,
	DESCRIPTION VARCHAR2(1024) NOT NULL,
	KG_CO2 NUMBER(10,30),
	LAST_MODIFIED_DTM DATE,
	MATCH_AUTO_ACCEPTED NUMBER(1,0) NOT NULL,
	MODIFIED_BY_SID NUMBER(10,0),
	PURCHASE_DATE DATE NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	ROW_NUMBER NUMBER(10,0),
	SPEND NUMBER(20,10) NOT NULL,
	SUPPLIER_ID NUMBER(10,0),
	WORKSHEET_ID NUMBER(10,0),
	CONSTRAINT PK_CT_PS_ITEM PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, ITEM_ID),
	CONSTRAINT FK_CT_PS_ITEM_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_PS_ITEM_EIO (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	ITEM_ID NUMBER(10,0) NOT NULL,
	EIO_ID NUMBER(10,0) NOT NULL,
	PCT NUMBER(3,0) NOT NULL,
	CONSTRAINT PK_CT_PS_ITEM_EIO PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, ITEM_ID, EIO_ID),
	CONSTRAINT FK_CT_PS_ITEM_EIO_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_PS_OPTIONS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	AUTO_MATCH_THRESH NUMBER(5,2) NOT NULL,
	BREAKDOWN_TYPE_ID NUMBER(10,0) NOT NULL,
	PERIOD_ID NUMBER(10,0),
	CONSTRAINT PK_CT_PS_OPTIONS PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID),
	CONSTRAINT FK_CT_PS_OPTIONS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_PS_SPEND_BREAKDOWN (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	SPEND NUMBER(20,10) NOT NULL,
	CONSTRAINT PK_CT_PS_SPEND_BREAKDOWN PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID, BREAKDOWN_ID, REGION_ID),
	CONSTRAINT FK_CT_PS_SPEND_BREAKDOWN_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_PS_SUPPLIER_EIO_FREQ (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	SUPPLIER_ID NUMBER(10,0) NOT NULL,
	EIO_ID NUMBER(10,0) NOT NULL,
	MANUAL_COUNT NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_PS_SUPPLIER_EIO_FREQ PRIMARY KEY (CSRIMP_SESSION_ID, SUPPLIER_ID, EIO_ID),
	CONSTRAINT FK_CT_PS_SUPPLIER_EIO_FREQ_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_SUPPLIER_CONTACT (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	SUPPLIER_ID NUMBER(10,0) NOT NULL,
	SUPPLIER_CONTACT_ID NUMBER(10,0) NOT NULL,
	EMAIL VARCHAR2(1000) NOT NULL,
	FULL_NAME VARCHAR2(1000) NOT NULL,
	USER_SID NUMBER(10,0),
	CONSTRAINT PK_CT_SUPPLIER_CONTACT PRIMARY KEY (CSRIMP_SESSION_ID, SUPPLIER_ID, SUPPLIER_CONTACT_ID),
	CONSTRAINT FK_CT_SUPPLIER_CONTACT_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_UP_OPTIONS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	COMPANY_SID NUMBER(10,0) NOT NULL,
	BREAKDOWN_TYPE_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_UP_OPTIONS PRIMARY KEY (CSRIMP_SESSION_ID, COMPANY_SID),
	CONSTRAINT FK_CT_UP_OPTIONS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_WORKS_VALUE_MAP_BREAK (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	VALUE_MAP_ID NUMBER(10,0) NOT NULL,
	VALUE_MAPPER_ID NUMBER(10,0) NOT NULL,
	BREAKDOWN_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_WORKS_VALUE_MAP_BREAK PRIMARY KEY (CSRIMP_SESSION_ID, VALUE_MAP_ID, VALUE_MAPPER_ID),
	CONSTRAINT FK_CT_WORKS_VALUE_MAP_BREAK_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_WORKS_VALUE_MAP_CURRE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	VALUE_MAP_ID NUMBER(10,0) NOT NULL,
	VALUE_MAPPER_ID NUMBER(10,0) NOT NULL,
	CURRENCY_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_WORKS_VALUE_MAP_CURRE PRIMARY KEY (CSRIMP_SESSION_ID, VALUE_MAP_ID, VALUE_MAPPER_ID),
	CONSTRAINT FK_CT_WORKS_VALUE_MAP_CURRE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_WORKS_VALUE_MAP_DISTA (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	VALUE_MAP_ID NUMBER(10,0) NOT NULL,
	VALUE_MAPPER_ID NUMBER(10,0) NOT NULL,
	DISTANCE_UNIT_ID NUMBER(10,0),
	CONSTRAINT PK_CT_WORKS_VALUE_MAP_DISTA PRIMARY KEY (CSRIMP_SESSION_ID, VALUE_MAP_ID, VALUE_MAPPER_ID),
	CONSTRAINT FK_CT_WORKS_VALUE_MAP_DISTA_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_WORKS_VALUE_MAP_REGIO (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	VALUE_MAP_ID NUMBER(10,0) NOT NULL,
	VALUE_MAPPER_ID NUMBER(10,0) NOT NULL,
	REGION_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_WORKS_VALUE_MAP_REGIO PRIMARY KEY (CSRIMP_SESSION_ID, VALUE_MAP_ID, VALUE_MAPPER_ID),
	CONSTRAINT FK_CT_WORKS_VALUE_MAP_REGIO_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.CT_WORKS_VALUE_MAP_SUPPL (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	VALUE_MAP_ID NUMBER(10,0) NOT NULL,
	VALUE_MAPPER_ID NUMBER(10,0) NOT NULL,
	SUPPLIER_ID NUMBER(10,0) NOT NULL,
	CONSTRAINT PK_CT_WORKS_VALUE_MAP_SUPPL PRIMARY KEY (CSRIMP_SESSION_ID, VALUE_MAP_ID, VALUE_MAPPER_ID),
	CONSTRAINT FK_CT_WORKS_VALUE_MAP_SUPPL_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

-- Map tables
CREATE TABLE CSRIMP.MAP_CT_BREAKDOWN (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_BREAKDOWN_ID NUMBER(10) NOT NULL,
	NEW_BREAKDOWN_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_BREAKDOWN PRIMARY KEY (OLD_BREAKDOWN_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_BREAKDOWN UNIQUE (NEW_BREAKDOWN_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_BREAKDOWN_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_BREAKDOWN_TYPE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_BREAKDOWN_TYPE_ID NUMBER(10) NOT NULL,
	NEW_BREAKDOWN_TYPE_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_BREAKDOWN_TYPE PRIMARY KEY (OLD_BREAKDOWN_TYPE_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_BREAKDOWN_TYPE UNIQUE (NEW_BREAKDOWN_TYPE_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_BREAKDOWN_TYPE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_BREAKDOWN_GROUP (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_BREAKDOWN_GROUP_ID NUMBER(10) NOT NULL,
	NEW_BREAKDOWN_GROUP_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_BREAKDOWN_GROUP PRIMARY KEY (OLD_BREAKDOWN_GROUP_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_BREAKDOWN_GROUP UNIQUE (NEW_BREAKDOWN_GROUP_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_BREAKDOWN_GROUP_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_BT_TRIP_ENTRY (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_BT_TRIP_ENTRY_ID NUMBER(10) NOT NULL,
	NEW_BT_TRIP_ENTRY_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_BT_TRIP_ENTRY PRIMARY KEY (OLD_BT_TRIP_ENTRY_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_BT_TRIP_ENTRY UNIQUE (NEW_BT_TRIP_ENTRY_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_BT_TRIP_ENTRY_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_EC_QUESTIONNAIRE (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_EC_QUESTIONNAIRE_ID NUMBER(10) NOT NULL,
	NEW_EC_QUESTIONNAIRE_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_EC_QUESTIONNAIRE PRIMARY KEY (OLD_EC_QUESTIONNAIRE_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_EC_QUESTIONNAIRE UNIQUE (NEW_EC_QUESTIONNAIRE_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_EC_QUESTIONNAIRE_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_EC_QUESTIONNA_ANS (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_EC_QUESTIONNAIRE_ANS_ID NUMBER(10) NOT NULL,
	NEW_EC_QUESTIONNAIRE_ANS_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_EC_QUESTIONNA_ANS PRIMARY KEY (OLD_EC_QUESTIONNAIRE_ANS_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_EC_QUESTIONNA_ANS UNIQUE (NEW_EC_QUESTIONNAIRE_ANS_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_EC_QUESTIONNA_ANS_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_PS_ITEM (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_PS_ITEM_ID NUMBER(10) NOT NULL,
	NEW_PS_ITEM_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_PS_ITEM PRIMARY KEY (OLD_PS_ITEM_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_PS_ITEM UNIQUE (NEW_PS_ITEM_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_PS_ITEM_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_SUPPLIER (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_SUPPLIER_ID NUMBER(10) NOT NULL,
	NEW_SUPPLIER_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_SUPPLIER PRIMARY KEY (OLD_SUPPLIER_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_SUPPLIER UNIQUE (NEW_SUPPLIER_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_SUPPLIER_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

CREATE TABLE CSRIMP.MAP_CT_SUPPLIER_CONTACT (
	CSRIMP_SESSION_ID NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	OLD_SUPPLIER_CONTACT_ID NUMBER(10) NOT NULL,
	NEW_SUPPLIER_CONTACT_ID NUMBER(10) NOT NULL,
	CONSTRAINT PK_MAP_CT_SUPPLIER_CONTACT PRIMARY KEY (OLD_SUPPLIER_CONTACT_ID) USING INDEX,
	CONSTRAINT UK_MAP_CT_SUPPLIER_CONTACT UNIQUE (NEW_SUPPLIER_CONTACT_ID) USING INDEX,
	CONSTRAINT FK_MAP_CT_SUPPLIER_CONTACT_IS FOREIGN KEY (CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID) ON DELETE CASCADE
);

-- Package grants
grant select, insert, update, delete on csrimp.ct_customer_options to web_user;
grant select, insert, update, delete on csrimp.ct_company to web_user;
grant select, insert, update, delete on csrimp.ct_breakdown_type to web_user;
grant select, insert, update, delete on csrimp.ct_breakdown to web_user;
grant select, insert, update, delete on csrimp.ct_breakdown_group to web_user;
grant select, insert, update, delete on csrimp.ct_breakdown_region to web_user;
grant select, insert, update, delete on csrimp.ct_breakdown_region_eio to web_user;
grant select, insert, update, delete on csrimp.ct_breakdow_region_group to web_user;
grant select, insert, update, delete on csrimp.ct_bt_air_trip to web_user;
grant select, insert, update, delete on csrimp.ct_bt_bus_trip to web_user;
grant select, insert, update, delete on csrimp.ct_bt_cab_trip to web_user;
grant select, insert, update, delete on csrimp.ct_bt_car_trip to web_user;
grant select, insert, update, delete on csrimp.ct_bt_emissions to web_user;
grant select, insert, update, delete on csrimp.ct_bt_motorbike_trip to web_user;
grant select, insert, update, delete on csrimp.ct_bt_options to web_user;
grant select, insert, update, delete on csrimp.ct_bt_profile to web_user;
grant select, insert, update, delete on csrimp.ct_bt_train_trip to web_user;
grant select, insert, update, delete on csrimp.ct_company_consumpt_type to web_user;
grant select, insert, update, delete on csrimp.ct_ec_bus_entry to web_user;
grant select, insert, update, delete on csrimp.ct_ec_car_entry to web_user;
grant select, insert, update, delete on csrimp.ct_ec_emissions_all to web_user;
grant select, insert, update, delete on csrimp.ct_ec_motorbike_entry to web_user;
grant select, insert, update, delete on csrimp.ct_ec_options to web_user;
grant select, insert, update, delete on csrimp.ct_ec_profile to web_user;
grant select, insert, update, delete on csrimp.ct_ec_questionnaire to web_user;
grant select, insert, update, delete on csrimp.ct_ec_questionna_answers to web_user;
grant select, insert, update, delete on csrimp.ct_ec_train_entry to web_user;
grant select, insert, update, delete on csrimp.ct_hotspot_result to web_user;
grant select, insert, update, delete on csrimp.ct_ht_consumption to web_user;
grant select, insert, update, delete on csrimp.ct_ht_consumption_region to web_user;
grant select, insert, update, delete on csrimp.ct_ht_cons_source_breakd to web_user;
grant select, insert, update, delete on csrimp.ct_ps_emissions_all to web_user;
grant select, insert, update, delete on csrimp.ct_supplier to web_user;
grant select, insert, update, delete on csrimp.ct_ps_item to web_user;
grant select, insert, update, delete on csrimp.ct_ps_item_eio to web_user;
grant select, insert, update, delete on csrimp.ct_ps_options to web_user;
grant select, insert, update, delete on csrimp.ct_ps_spend_breakdown to web_user;
grant select, insert, update, delete on csrimp.ct_ps_supplier_eio_freq to web_user;
grant select, insert, update, delete on csrimp.ct_supplier_contact to web_user;
grant select, insert, update, delete on csrimp.ct_up_options to web_user;
grant select, insert, update, delete on csrimp.ct_works_value_map_break to web_user;
grant select, insert, update, delete on csrimp.ct_works_value_map_curre to web_user;
grant select, insert, update, delete on csrimp.ct_works_value_map_dista to web_user;
grant select, insert, update, delete on csrimp.ct_works_value_map_regio to web_user;
grant select, insert, update, delete on csrimp.ct_works_value_map_suppl to web_user;

-- Object grants

-- grants for csrimp
grant select, insert, update on ct.customer_options to csrimp;
grant select, insert, update on ct.company to csrimp;
grant select, insert, update on ct.breakdown_type to csrimp;
grant select, insert, update on ct.breakdown to csrimp;
grant select, insert, update on ct.breakdown_group to csrimp;
grant select, insert, update on ct.breakdown_region to csrimp;
grant select, insert, update on ct.breakdown_region_eio to csrimp;
grant select, insert, update on ct.breakdown_region_group to csrimp;
grant select, insert, update on ct.bt_air_trip to csrimp;
grant select, insert, update on ct.bt_bus_trip to csrimp;
grant select, insert, update on ct.bt_cab_trip to csrimp;
grant select, insert, update on ct.bt_car_trip to csrimp;
grant select, insert, update on ct.bt_emissions to csrimp;
grant select, insert, update on ct.bt_motorbike_trip to csrimp;
grant select, insert, update on ct.bt_options to csrimp;
grant select, insert, update on ct.bt_profile to csrimp;
grant select, insert, update on ct.bt_train_trip to csrimp;
grant select, insert, update on ct.company_consumption_type to csrimp;
grant select, insert, update on ct.ec_bus_entry to csrimp;
grant select, insert, update on ct.ec_car_entry to csrimp;
grant select, insert, update on ct.ec_emissions_all to csrimp;
grant select, insert, update on ct.ec_motorbike_entry to csrimp;
grant select, insert, update on ct.ec_options to csrimp;
grant select, insert, update on ct.ec_profile to csrimp;
grant select, insert, update on ct.ec_questionnaire to csrimp;
grant select, insert, update on ct.ec_questionnaire_answers to csrimp;
grant select, insert, update on ct.ec_train_entry to csrimp;
grant select, insert, update on ct.hotspot_result to csrimp;
grant select, insert, update on ct.ht_consumption to csrimp;
grant select, insert, update on ct.ht_consumption_region to csrimp;
grant select, insert, update on ct.ht_cons_source_breakdown to csrimp;
grant select, insert, update on ct.ps_emissions_all to csrimp;
grant select, insert, update on ct.supplier to csrimp;
grant select, insert, update on ct.ps_item to csrimp;
grant select, insert, update on ct.ps_item_eio to csrimp;
grant select, insert, update on ct.ps_options to csrimp;
grant select, insert, update on ct.ps_spend_breakdown to csrimp;
grant select, insert, update on ct.ps_supplier_eio_freq to csrimp;
grant select, insert, update on ct.supplier_contact to csrimp;
grant select, insert, update on ct.up_options to csrimp;
grant select, insert, update on ct.worksheet_value_map_breakdown to csrimp;
grant select, insert, update on ct.worksheet_value_map_currency to csrimp;
grant select, insert, update on ct.worksheet_value_map_distance to csrimp;
grant select, insert, update on ct.worksheet_value_map_region to csrimp;
grant select, insert, update on ct.worksheet_value_map_supplier to csrimp;

grant select on ct.breakdown_id_seq to csrimp;
grant select on ct.breakdown_id_seq to CSR;
grant select on ct.breakdown_type_id_seq to csrimp;
grant select on ct.breakdown_type_id_seq to CSR;
grant select on ct.breakdown_group_id_seq to csrimp;
grant select on ct.breakdown_group_id_seq to CSR;
grant select on ct.bt_trip_entry_id_seq to csrimp;
grant select on ct.bt_trip_entry_id_seq to CSR;
grant select on ct.ec_questionnaire_id_seq to csrimp;
grant select on ct.ec_questionnaire_id_seq to CSR;
grant select on ct.ec_questionnaire_ans_id_seq to csrimp;
grant select on ct.ec_questionnaire_ans_id_seq to CSR;
grant select on ct.ps_item_id_seq to csrimp;
grant select on ct.ps_item_id_seq to CSR;
grant select on ct.supplier_id_seq to csrimp;
grant select on ct.supplier_id_seq to CSR;
grant select on ct.supplier_contact_id_seq to csrimp;
grant select on ct.supplier_contact_id_seq to CSR;

-- non csrimp grants
grant select, insert, update on ct.customer_options to CSR;
grant select, insert, update on ct.company to CSR;
grant select, insert, update on ct.breakdown_type to CSR;
grant select, insert, update on ct.breakdown to CSR;
grant select, insert, update on ct.breakdown_group to CSR;
grant select, insert, update on ct.breakdown_region to CSR;
grant select, insert, update on ct.breakdown_region_eio to CSR;
grant select, insert, update on ct.breakdown_region_group to CSR;
grant select, insert, update on ct.bt_air_trip to CSR;
grant select, insert, update on ct.bt_bus_trip to CSR;
grant select, insert, update on ct.bt_cab_trip to CSR;
grant select, insert, update on ct.bt_car_trip to CSR;
grant select, insert, update on ct.bt_emissions to CSR;
grant select, insert, update on ct.bt_motorbike_trip to CSR;
grant select, insert, update on ct.bt_options to CSR;
grant select, insert, update on ct.bt_profile to CSR;
grant select, insert, update on ct.bt_train_trip to CSR;
grant select, insert, update on ct.company_consumption_type to CSR;
grant select, insert, update on ct.ec_bus_entry to CSR;
grant select, insert, update on ct.ec_car_entry to CSR;
grant select, insert, update on ct.ec_emissions_all to CSR;
grant select, insert, update on ct.ec_motorbike_entry to CSR;
grant select, insert, update on ct.ec_options to CSR;
grant select, insert, update on ct.ec_profile to CSR;
grant select, insert, update on ct.ec_questionnaire to CSR;
grant select, insert, update on ct.ec_questionnaire_answers to CSR;
grant select, insert, update on ct.ec_train_entry to CSR;
grant select, insert, update on ct.hotspot_result to CSR;
grant select, insert, update on ct.ht_consumption to CSR;
grant select, insert, update on ct.ht_consumption_region to CSR;
grant select, insert, update on ct.ht_cons_source_breakdown to CSR;
grant select, insert, update on ct.ps_emissions_all to CSR;
grant select, insert, update on ct.supplier to CSR;
grant select, insert, update on ct.ps_item to CSR;
grant select, insert, update on ct.ps_item_eio to CSR;
grant select, insert, update on ct.ps_options to CSR;
grant select, insert, update on ct.ps_spend_breakdown to CSR;
grant select, insert, update on ct.ps_supplier_eio_freq to CSR;
grant select, insert, update on ct.supplier_contact to CSR;
grant select, insert, update on ct.up_options to CSR;
grant select, insert, update on ct.worksheet_value_map_breakdown to CSR;
grant select, insert, update on ct.worksheet_value_map_currency to CSR;
grant select, insert, update on ct.worksheet_value_map_distance to CSR;
grant select, insert, update on ct.worksheet_value_map_region to CSR;
grant select, insert, update on ct.worksheet_value_map_supplier to CSR;

grant select on ct.breakdown_id_seq to CSR;
grant select on ct.breakdown_type_id_seq to CSR;
grant select on ct.breakdown_group_id_seq to CSR;
grant select on ct.bt_trip_entry_id_seq to CSR;
grant select on ct.ec_questionnaire_id_seq to CSR;
grant select on ct.ec_questionnaire_ans_id_seq to CSR;
grant select on ct.ps_item_id_seq to CSR;
grant select on ct.supplier_id_seq to CSR;
grant select on ct.supplier_contact_id_seq to CSR;

BEGIN
  FOR r IN (
    SELECT t.table_name
      FROM dba_tab_columns tc
      JOIN dba_tables t ON tc.owner = t.owner AND tc.table_name = t.table_name
     WHERE tc.owner = 'CT' AND tc.column_name = 'APP_SID' AND tc.data_default IS NULL
  ) 
  LOOP
    EXECUTE IMMEDIATE 'ALTER TABLE CT.' || r.table_name || ' MODIFY app_sid DEFAULT SYS_CONTEXT(''SECURITY'', ''APP'')';
  END LOOP;
END;
/

@..\schema_pkg
@..\schema_body
@..\csrimp\imp_pkg
@..\csrimp\imp_body
@..\csr_app_body
@..\chain\chain_body
@..\ct\link_body

@update_tail
