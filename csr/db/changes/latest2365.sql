-- Please update version.sql too -- this keeps clean builds in sync
define version=2365
@update_header

CREATE TABLE CHAIN.REFERENCE_FILTER_TYPE(
    REFERENCE_FILTER_TYPE_ID		     NUMBER(10, 0)     NOT NULL,
    DESCRIPTION                  		 VARCHAR2(1000)    NOT NULL,
    CONSTRAINT PK_REFERENCE_FILTER_TYPE_ID PRIMARY KEY (REFERENCE_FILTER_TYPE_ID)
)
;

ALTER TABLE CHAIN.REFERENCE ADD REFERENCE_FILTER_TYPE_ID  NUMBER(10, 0);
UPDATE CHAIN.REFERENCE SET REFERENCE_FILTER_TYPE_ID = 0;
ALTER TABLE CHAIN.REFERENCE MODIFY REFERENCE_FILTER_TYPE_ID  NUMBER(10, 0)  DEFAULT 0 NOT NULL;

BEGIN
	INSERT INTO CHAIN.REFERENCE_FILTER_TYPE(REFERENCE_FILTER_TYPE_ID, DESCRIPTION) VALUES(0, 'Standard text input filter');
	INSERT INTO CHAIN.REFERENCE_FILTER_TYPE(REFERENCE_FILTER_TYPE_ID, DESCRIPTION) VALUES(1, 'Combo filter with all available options');

	COMMIT;
END;
/

@../chain/helper_pkg
@../chain/helper_body

@update_tail
