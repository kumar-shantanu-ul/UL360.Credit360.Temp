define version=3203
define minor_version=0
define is_combined=1
@update_header

-- clean out junk in csrimp
begin
for r in (select table_name from all_tables where owner='CSRIMP' and table_name!='CSRIMP_SESSION') loop
execute immediate 'truncate table csrimp.'||r.table_name;
end loop;
delete from csrimp.csrimp_session;
commit;
end;
/
CREATE TABLE csr.tpl_report_tag_suggestion (
    app_sid							NUMBER(10, 0) DEFAULT SYS_CONTEXT('SECURITY','APP') NOT NULL,
    tpl_report_tag_suggestion_id	NUMBER(10, 0) NOT NULL,
	campaign_sid					NUMBER(10, 0) NOT NULL,
	suggestion_type_id				NUMBER(10, 0) NULL,
	limit							NUMBER(10, 0) NULL,
    CONSTRAINT pk_tpl_report_tag_suggestion PRIMARY KEY (app_sid, tpl_report_tag_suggestion_id)
);
ALTER TABLE csr.tpl_report_tag_suggestion ADD
	CONSTRAINT fk_tpl_report_tag_sug_cpn
		FOREIGN KEY (app_sid, campaign_sid)
		REFERENCES csr.qs_campaign(app_sid, qs_campaign_sid);
CREATE SEQUENCE csr.tpl_report_tag_sugg_id_seq;
CREATE TABLE CSRIMP.TPL_REPORT_TAG_SUGGESTION (
	CSRIMP_SESSION_ID               NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	TPL_REPORT_TAG_SUGGESTION_ID    NUMBER(10, 0) NOT NULL,
	CAMPAIGN_SID                    NUMBER(10, 0) NOT NULL,
	SUGGESTION_TYPE_ID              NUMBER(10, 0) NULL,
	LIMIT                           NUMBER(10, 0) NULL,
	CONSTRAINT PK_TPL_REPORT_TAG_SUGGESTION PRIMARY KEY (CSRIMP_SESSION_ID, TPL_REPORT_TAG_SUGGESTION_ID),
	CONSTRAINT FK_TPL_RPT_TAG_SUGGESTION_IS FOREIGN KEY
		(CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID)
		ON DELETE CASCADE
);
    


ALTER TABLE csr.tpl_report_tag ADD tpl_report_tag_suggestion_id NUMBER(10, 0) NULL;
ALTER TABLE csr.tpl_report_tag ADD
	CONSTRAINT fk_tpl_report_tag_suggestion
		FOREIGN KEY (app_sid, tpl_report_tag_suggestion_id)
		REFERENCES csr.tpl_report_tag_suggestion(app_sid, tpl_report_tag_suggestion_id)
		DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE csr.tpl_report_tag DROP CONSTRAINT ct_tpl_report_tag;
ALTER TABLE CSR.TPL_REPORT_TAG ADD (
    CONSTRAINT CT_TPL_REPORT_TAG CHECK (
        (TAG_TYPE IN (1,4,5) AND TPL_REPORT_TAG_IND_ID IS NOT NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 6 AND TPL_REPORT_TAG_EVAL_ID IS NOT NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE IN (2,3,101) AND TPL_REPORT_TAG_DATAVIEW_ID IS NOT NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 7 AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NOT NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 8 AND TPL_REP_CUST_TAG_TYPE_ID IS NOT NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 9 AND TPL_REPORT_TAG_TEXT_ID IS NOT NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = -1 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 10 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NOT NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 11 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NOT NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 102 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NOT NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 103 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NOT NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 12 AND TPL_REPORT_TAG_QC_ID IS NOT NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
		OR (TAG_TYPE = 13 AND TPL_REPORT_TAG_SUGGESTION_ID IS NOT NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL)
    )
);
ALTER TABLE csrimp.tpl_report_tag ADD tpl_report_tag_suggestion_id NUMBER(10, 0) NULL;
ALTER TABLE csrimp.tpl_report_tag DROP CONSTRAINT ct_tpl_report_tag;
ALTER TABLE CSRIMP.TPL_REPORT_TAG ADD (
    CONSTRAINT CT_TPL_REPORT_TAG CHECK (
        (TAG_TYPE IN (1,4,5) AND TPL_REPORT_TAG_IND_ID IS NOT NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 6 AND TPL_REPORT_TAG_EVAL_ID IS NOT NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE IN (2,3,101) AND TPL_REPORT_TAG_DATAVIEW_ID IS NOT NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 7 AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NOT NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 8 AND TPL_REP_CUST_TAG_TYPE_ID IS NOT NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 9 AND TPL_REPORT_TAG_TEXT_ID IS NOT NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = -1 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 10 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NOT NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 11 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NOT NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 102 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NOT NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 103 AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NOT NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
        OR (TAG_TYPE = 12 AND TPL_REPORT_TAG_QC_ID IS NOT NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL AND TPL_REPORT_TAG_SUGGESTION_ID IS NULL)
		OR (TAG_TYPE = 13 AND TPL_REPORT_TAG_SUGGESTION_ID IS NOT NULL AND TPL_REPORT_TAG_DATAVIEW_ID IS NULL AND TPL_REPORT_TAG_IND_ID IS NULL AND TPL_REPORT_TAG_EVAL_ID IS NULL AND TPL_REPORT_TAG_LOGGING_FORM_ID IS NULL AND TPL_REP_CUST_TAG_TYPE_ID IS NULL AND TPL_REPORT_TAG_TEXT_ID IS NULL AND TPL_REPORT_NON_COMPL_ID IS NULL AND TPL_REPORT_TAG_APP_NOTE_ID IS NULL AND TPL_REPORT_TAG_APP_MATRIX_ID IS NULL AND TPL_REPORT_TAG_REG_DATA_ID IS NULL)
    )
);
CREATE TABLE csrimp.map_tpl_report_tag_suggestion (
	CSRIMP_SESSION_ID				NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
	old_tpl_rpt_tag_suggestion_id		NUMBER(10)	NOT NULL,
	new_tpl_rpt_tag_suggestion_id		NUMBER(10)	NOT NULL,
	CONSTRAINT pk_map_tpl_rpt_tag_suggestion primary key (csrimp_session_id, old_tpl_rpt_tag_suggestion_id) USING INDEX,
	CONSTRAINT uk_map_tpl_rpt_tag_suggestion unique (csrimp_session_id, new_tpl_rpt_tag_suggestion_id) USING INDEX,
    CONSTRAINT FK_MAP_TPL_RPT_TAG_SGN_IS FOREIGN KEY
    	(CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID)
    	ON DELETE CASCADE
);
CREATE INDEX csr.ix_tpl_report_ta_tpl_sugg_id ON csr.tpl_report_tag (app_sid, tpl_report_tag_suggestion_id);
CREATE INDEX csr.ix_tpl_report_ta_campaign_sid ON csr.tpl_report_tag_suggestion (app_sid, campaign_sid);
DELETE FROM CSR.OSHA_MAPPING;
ALTER TABLE CSR.OSHA_MAPPING DROP CONSTRAINT FK_OSHA_BASE_DATA_ID;
ALTER TABLE CSR.OSHA_MAPPING RENAME COLUMN OSHA_BASE_DATA_ID TO OSHA_MAP_FIELD_ID;
ALTER TABLE CSRIMP.OSHA_MAPPING RENAME COLUMN OSHA_BASE_DATA_ID TO OSHA_MAP_FIELD_ID;
ALTER TABLE CSR.OSHA_BASE_DATA ADD (
  AGG_TYPE                         	NUMBER(1) DEFAULT 0 NOT NULL,
  OSHA_MAP_FIELD_ID					NUMBER(10)
);
CREATE TABLE CSR.OSHA_MAP_FIELD (
	OSHA_MAP_FIELD_ID				NUMBER(10) NOT NULL,
	LABEL							VARCHAR2(356),
	POS								NUMBER(10),
	CONSTRAINT PK_OSHA_MAP_FIELD 	PRIMARY KEY (OSHA_MAP_FIELD_ID)
);
CREATE TABLE CSR.OSHA_MAP_TYPE (
	OSHA_MAP_TYPE_ID				NUMBER(10) NOT NULL,
	LABEL							VARCHAR2(256) NOT NULL,
	CONSTRAINT PK_OSHA_MAP_TYPE 	PRIMARY KEY (OSHA_MAP_TYPE_ID)
);
CREATE TABLE CSR.OSHA_MAP_FIELD_TYPE (
	OSHA_MAP_FIELD_ID				NUMBER(10) NOT NULL,
	OSHA_MAP_TYPE_ID				NUMBER(10) NOT NULL,
	CONSTRAINT PK_OSHA_MAP_FIELD_TYPE 	PRIMARY KEY (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID)
);
ALTER TABLE CSR.OSHA_BASE_DATA ADD CONSTRAINT FK_OSHA_BASE_DATA_OSHA_MAP_FLD
	FOREIGN KEY (OSHA_MAP_FIELD_ID)
	REFERENCES CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID)
;
ALTER TABLE CSR.OSHA_MAP_FIELD_TYPE ADD CONSTRAINT FK_OSHA_MAP_FIELD_TYPE_FIELD
	FOREIGN KEY (OSHA_MAP_FIELD_ID)
	REFERENCES CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID)
;
ALTER TABLE CSR.OSHA_MAP_FIELD_TYPE ADD CONSTRAINT FK_OSHA_MAP_FIELD_TYPE_TYPE
	FOREIGN KEY (OSHA_MAP_TYPE_ID)
	REFERENCES CSR.OSHA_MAP_TYPE (OSHA_MAP_TYPE_ID)
;
ALTER TABLE CSR.OSHA_MAPPING ADD CONSTRAINT FK_OSHA_MAPPING_OSHA_MAP_FIELD
	FOREIGN KEY (OSHA_MAP_FIELD_ID)
	REFERENCES CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID)
;
CREATE INDEX csr.ix_osha_base_data_osha_field ON csr.osha_base_data (osha_map_field_id);
CREATE INDEX csr.ix_osha_field_type_field ON csr.osha_map_field_type (osha_map_field_id);
CREATE INDEX csr.ix_osha_field_type_type ON csr.osha_map_field_type (osha_map_type_id);
DECLARE
	v_count	number(10);
BEGIN
	SELECT COUNT(*) 
	  INTO v_count 
	  FROM all_tab_cols 
	 WHERE owner = 'CSR' 
	   AND table_name = 'QS_CAMPAIGN' 
	   AND column_name = 'WRITE_ANSWERS_TO_INDICATORS';
	IF v_count = 1 THEN
		EXECUTE IMMEDIATE 'ALTER TABLE csr.qs_campaign DROP COLUMN write_answers_to_indicators';
	END IF;
END;
/
DECLARE
	v_count	number(10);
BEGIN
	SELECT COUNT(*) 
	  INTO v_count 
	  FROM all_tab_cols 
	 WHERE owner = 'CSRIMP' 
	   AND table_name = 'QS_CAMPAIGN' 
	   AND column_name = 'WRITE_ANSWERS_TO_INDICATORS';
	IF v_count = 1 THEN
		EXECUTE IMMEDIATE 'ALTER TABLE csrimp.qs_campaign DROP COLUMN write_answers_to_indicators';
	END IF;
END;
/


GRANT SELECT,INSERT,UPDATE,DELETE ON csrimp.tpl_report_tag_suggestion TO tool_user;
GRANT INSERT ON csr.tpl_report_tag_suggestion TO csrimp;
GRANT SELECT ON csr.tpl_report_tag_sugg_id_seq TO csrimp;








INSERT INTO CSR.BATCH_JOB_TYPE (BATCH_JOB_TYPE_ID, DESCRIPTION, SP, PLUGIN_NAME, IN_ORDER, FILE_DATA_SP, TIMEOUT_MINS)
VALUES (85, 'OSHA Export', null, 'batch-exporter', 0, null, 120);
INSERT INTO CSR.BATCHED_EXPORT_TYPE (BATCH_JOB_TYPE_ID, LABEL, ASSEMBLY)
VALUES (85, 'OSHA Export', 'Credit360.ExportImport.Export.Batched.Exporters.OshaBatchExporter');
BEGIN
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (1, 'Establishment name', 1);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (2, 'Company name', 2);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (3, 'Street', 3);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (4, 'City', 4);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (5, 'State', 5);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (6, 'Zip', 6);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (7, 'North American Industrial Classification (NAICS)', 7);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (8, 'Industry description', 8);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (9, 'Size', 9);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (10, 'Establisment type', 10);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (11, 'Year', 11);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (12, 'Annual average number of employees', 12);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (13, 'Total hours worked by all employees last year', 13);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (14, 'Any injuries or illnesses', 14);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (15, 'Case No.', 15);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (16, 'Employee''s name', 16);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (17, 'Job title', 17);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (18, 'Date of injury or onset of illness', 18);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (19, 'Where event occurred', 19);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (20, 'Describe injury or illness, parts of body affected, and object/substance that directly injured or made person ill', 20);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (21, 'Death', 21);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (22, 'Case resulted in days away from work', 22);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (23, 'Case resulted in job transfer or restriction', 23);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (24, 'Other recordable case', 24);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (25, 'Days away from work', 25);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (26, 'Days on transfer or restricted', 26);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (27, 'Injury', 27);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (28, 'Skin disorder', 28);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (29, 'Respiratory condition', 29);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (30, 'Poisoning', 30);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (31, 'Hearing loss', 31);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (32, 'All other illnesses', 32);
	INSERT INTO CSR.OSHA_MAP_FIELD (OSHA_MAP_FIELD_ID, LABEL, POS) VALUES (33, 'Change reason', 33);
END;
/
BEGIN
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 1 WHERE DATA_ELEMENT = 'establishment_name';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 2 WHERE DATA_ELEMENT = 'company_name';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 3 WHERE DATA_ELEMENT = 'street_address';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 4 WHERE DATA_ELEMENT = 'city';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 5 WHERE DATA_ELEMENT = 'state';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 6 WHERE DATA_ELEMENT = 'zip';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 7, definition_and_validations = 'The North American Industry Classification System (NAICS) code which classifies an establishment''s business. Use a 2012 code, found here: <a href="http://www.census.gov/cgi-bin/sssd/naics/naicsrch?chart=2012">http://www.census.gov/cgi-bin/sssd/naics/naicsrch?chart=2012</a><ul><li>Must be a number and be 6 digits in length</li></ul>' WHERE DATA_ELEMENT = 'naics_code';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 8 WHERE DATA_ELEMENT = 'industry_description';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 9 WHERE DATA_ELEMENT = 'size';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 10 WHERE DATA_ELEMENT = 'establishment_type';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 11 WHERE DATA_ELEMENT = 'year_filing_for';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 12 WHERE DATA_ELEMENT = 'annual_average_employees';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 13 WHERE DATA_ELEMENT = 'total_hours_worked';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 14 WHERE DATA_ELEMENT = 'no_injuries_illnesses';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 21 WHERE DATA_ELEMENT = 'total_deaths';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 22 WHERE DATA_ELEMENT = 'total_dafw_cases';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 23 WHERE DATA_ELEMENT = 'total_djtr_cases';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 24 WHERE DATA_ELEMENT = 'total_other_cases';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 2, OSHA_MAP_FIELD_ID = 25 WHERE DATA_ELEMENT = 'total_dafw_days';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 2, OSHA_MAP_FIELD_ID = 26 WHERE DATA_ELEMENT = 'total_djtr_days';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 27 WHERE DATA_ELEMENT = 'total_injuries';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 28 WHERE DATA_ELEMENT = 'total_skin_disorders';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 29 WHERE DATA_ELEMENT = 'total_respiratory_conditions';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 30 WHERE DATA_ELEMENT = 'total_poisonings';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 31 WHERE DATA_ELEMENT = 'total_hearing_loss';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 1, OSHA_MAP_FIELD_ID = 32 WHERE DATA_ELEMENT = 'total_other_illnesses';
	UPDATE CSR.OSHA_BASE_DATA SET AGG_TYPE = 0, OSHA_MAP_FIELD_ID = 33 WHERE DATA_ELEMENT = 'change_reason';
END;
/
BEGIN
	INSERT INTO CSR.OSHA_MAP_TYPE (OSHA_MAP_TYPE_ID, LABEL) VALUES (1, 'CMS');
	INSERT INTO CSR.OSHA_MAP_TYPE (OSHA_MAP_TYPE_ID, LABEL) VALUES (2, 'Indicator');
	INSERT INTO CSR.OSHA_MAP_TYPE (OSHA_MAP_TYPE_ID, LABEL) VALUES (3, 'Region Attribute');
END;
/
BEGIN
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (1, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (1, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (1, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (2, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (2, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (2, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (3, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (3, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (3, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (4, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (4, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (4, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (5, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (5, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (5, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (6, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (6, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (6, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (7, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (7, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (7, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (8, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (8, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (8, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (9, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (9, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (9, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (10, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (10, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (10, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (11, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (11, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (11, 3);	
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (12, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (12, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (12, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (13, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (13, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (13, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (14, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (14, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (14, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (15, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (15, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (15, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (16, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (16, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (16, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (17, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (17, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (17, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (18, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (18, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (18, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (19, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (19, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (19, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (20, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (20, 2);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (20, 3);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (21, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (22, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (23, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (24, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (25, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (26, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (27, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (28, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (29, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (30, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (31, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (32, 1);
	INSERT INTO CSR.OSHA_MAP_FIELD_TYPE (OSHA_MAP_FIELD_ID, OSHA_MAP_TYPE_ID) VALUES (33, 1);
END;
/
INSERT INTO csr.portlet (PORTLET_ID,NAME,TYPE,DEFAULT_STATE,SCRIPT_PATH) VALUES (1069,'Period picker','Credit360.Portlets.PeriodPicker2','{"portletHeight":75}','/csr/site/portal/portlets/PeriodPicker2.js');
INSERT INTO csr.module (module_id, module_name, enable_sp, description)
	VALUES (106, 'Droid API', 'EnableDroidAPI', 'Enable Droid API');
INSERT INTO csr.module_param (module_id, param_name, param_hint, pos)
VALUES (106, 'in_enable_guest_access', 'Guest access (y/n)', 0);




@..\enable_pkg
@..\enable_body


@..\chain\company_pkg
@..\chain\business_relationship_pkg
@..\templated_report_pkg
@..\schema_pkg
@..\osha_pkg
@..\region_pkg
@..\customer_pkg
@..\campaign_pkg
@..\tag_pkg
@..\trash_pkg


@..\chain\company_body
@..\chain\business_relationship_body
@..\qs_incident_helper_body
@..\audit_body
@..\supplier_body
@..\templated_report_body
@..\schema_body
@..\csrimp\imp_body
    
@..\osha_body
@..\region_body
@..\chain\filter_body
@..\customer_body
@..\campaign_body
@..\enable_body
@..\tag_body
@..\trash_body



@update_tail
