-- Please update version.sql too -- this keeps clean builds in sync
define version=49
@update_header


CREATE SEQUENCE DATAVIEW_ZONE_ID_SEQ 
    START WITH 1
    INCREMENT BY 1
    NOMINVALUE
    NOMAXVALUE
    CACHE 20
    NOORDER
;


-- 
-- TABLE: DATAVIEW_ZONE 
--

CREATE TABLE DATAVIEW_ZONE(
    DATAVIEW_ZONE_ID        NUMBER(10, 0)    NOT NULL,
    NAME                    VARCHAR2(255)    NOT NULL,
    DATAVIEW_SID            NUMBER(10, 0),
    START_VAL_IND_SID       NUMBER(10, 0)    NOT NULL,
    START_VAL_REGION_SID    NUMBER(10, 0)    NOT NULL,
    START_VAL_START_DTM     DATE             NOT NULL,
    START_VAL_END_DTM       DATE             NOT NULL,
    END_VAL_IND_SID         NUMBER(10, 0),
    END_VAL_REGION_SID      NUMBER(10, 0),
    END_VAL_START_DTM       DATE,
    END_VAL_END_DTM         DATE,
    STYLE_XML               CLOB             NOT NULL,
    CONSTRAINT PK211 PRIMARY KEY (DATAVIEW_ZONE_ID)
)
;



-- 
-- TABLE: DATAVIEW_ZONE 
--

ALTER TABLE DATAVIEW_ZONE ADD CONSTRAINT RefIND363 
    FOREIGN KEY (START_VAL_IND_SID)
    REFERENCES IND(IND_SID)
;

ALTER TABLE DATAVIEW_ZONE ADD CONSTRAINT RefREGION364 
    FOREIGN KEY (START_VAL_REGION_SID)
    REFERENCES REGION(REGION_SID)
;

ALTER TABLE DATAVIEW_ZONE ADD CONSTRAINT RefIND365 
    FOREIGN KEY (END_VAL_IND_SID)
    REFERENCES IND(IND_SID)
;

ALTER TABLE DATAVIEW_ZONE ADD CONSTRAINT RefREGION366 
    FOREIGN KEY (END_VAL_REGION_SID)
    REFERENCES REGION(REGION_SID)
;

ALTER TABLE DATAVIEW_ZONE ADD CONSTRAINT RefDATAVIEW367 
    FOREIGN KEY (DATAVIEW_SID)
    REFERENCES DATAVIEW(DATAVIEW_SID)
;


@update_tail
