-- Please update version.sql too -- this keeps clean builds in sync
define version=2500
@update_header

CREATE TABLE CSRIMP.RSS_CACHE(
	CSRIMP_SESSION_ID				NUMBER(10) DEFAULT SYS_CONTEXT('SECURITY', 'CSRIMP_SESSION_ID') NOT NULL,
    RSS_URL         VARCHAR2(1024)    NOT NULL,
    LAST_UPDATED    DATE,
    XML             SYS.XMLType,
    LAST_ERROR      VARCHAR2(2040),
    ERROR_COUNT     NUMBER(10, 0)     DEFAULT 0 NOT NULL,
    CONSTRAINT PK_RSS_CACHE PRIMARY KEY (CSRIMP_SESSION_ID, RSS_URL),
    CONSTRAINT FK_RSS_CACHE_IS FOREIGN KEY
    	(CSRIMP_SESSION_ID) REFERENCES CSRIMP.CSRIMP_SESSION (CSRIMP_SESSION_ID)
    	ON DELETE CASCADE
);

@../schema_pkg
@../schema_body
@../csrimp/imp_body

@update_tail
