-- Please update version.sql too -- this keeps clean builds in sync
define version=60
@update_header

-- 
-- TABLE: GT_ENDANGERED_SPECIES 
--

CREATE TABLE GT_ENDANGERED_SPECIES(
    GT_ENDANGERED_SPECIES_ID    NUMBER(10, 0)     NOT NULL,
    DESCRIPTION                 VARCHAR2(1024)    NOT NULL,
    RISK_LEVEL                  VARCHAR2(50)      NOT NULL,
    DETAILS                     VARCHAR2(255),
    NOTES                       VARCHAR2(4000),
    CONSTRAINT PK291 PRIMARY KEY (GT_ENDANGERED_SPECIES_ID)
)
;

CREATE TABLE GT_FA_ENDANGERED_SP(
    PRODUCT_ID                  NUMBER(10, 0)    NOT NULL,
    REVISION_ID                 NUMBER(10, 0)    NOT NULL,
    GT_ENDANGERED_SPECIES_ID    NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK290 PRIMARY KEY (PRODUCT_ID, REVISION_ID, GT_ENDANGERED_SPECIES_ID)
)
;

ALTER TABLE GT_FA_ENDANGERED_SP ADD CONSTRAINT RefGT_ENDANGERED_SPECIES480 
    FOREIGN KEY (GT_ENDANGERED_SPECIES_ID)
    REFERENCES GT_ENDANGERED_SPECIES(GT_ENDANGERED_SPECIES_ID)
;

ALTER TABLE GT_FA_ENDANGERED_SP ADD CONSTRAINT RefGT_FORMULATION_ANSWERS481 
    FOREIGN KEY (PRODUCT_ID, REVISION_ID)
    REFERENCES GT_FORMULATION_ANSWERS(PRODUCT_ID, REVISION_ID)
;

@update_tail
