-- Please update version.sql too -- this keeps clean builds in sync
define version=2
@update_header


--DROP TABLE GT_PDA_DURABILITY_TYPE CASCADE CONSTRAINTS;
--DROP TABLE GT_BATTERY CASCADE CONSTRAINTS ;
--DROP TABLE GT_BATTERY_CHEM CASCADE CONSTRAINTS ;
--DROP TABLE GT_MANUFAC_TYPE CASCADE CONSTRAINTS ;
--DROP TABLE GT_MAT_MAN_MAPPIING CASCADE CONSTRAINTS ;
--DROP TABLE GT_MATERIAL CASCADE CONSTRAINTS ;
--DROP TABLE GT_MATERIAL_GROUP CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_ACCRED_TYPE CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_BATTERY CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_HAZ_CHEM CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_HC_ITEM CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_HC_MAT_MAP CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_MATERIAL_ITEM CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_PROVENANCE_TYPE CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDESIGN_ANSWERS CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_ANC_MAT CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_ENDANGERED_SP CASCADE CONSTRAINTS ;
--DROP TABLE GT_PDA_PALM_IND CASCADE CONSTRAINTS ;
--DROP SEQUENCE GT_PDA_MATERIAL_ITEM_ID_SEQ;

-- 
-- TABLE: GT_PDA_DURABILITY_TYPE 
--

CREATE TABLE GT_PDA_DURABILITY_TYPE(
    GT_PDA_DURABILITY_TYPE_ID    NUMBER(10, 0)    NOT NULL,
    DESCRIPTION                  VARCHAR2(256)    NOT NULL,
    SCORE                        NUMBER(4, 2)     NOT NULL,
    CONSTRAINT PK_GT_PDA_DURABILITY_TYPE PRIMARY KEY (GT_PDA_DURABILITY_TYPE_ID)
)
;

-- 
-- TABLE: GT_BATTERY 
--

CREATE TABLE GT_BATTERY(
    TYPE_CODE_ID          NUMBER(10, 0)    NOT NULL,
    TYPE_CODE             VARCHAR2(32)     NOT NULL,
    GT_BATTERY_CHEM_ID    NUMBER(10, 0)    NOT NULL,
    AVERAGE_WEIGHT_G      NUMBER(10, 6)    NOT NULL,
    VOLTAGE               NUMBER(5, 2)     NOT NULL,
    RECHARCHABLE          NUMBER(1, 0)     DEFAULT 0 NOT NULL,
    CHEM_SCORE            NUMBER(4, 2)     NOT NULL,
    WASTE_SCORE           NUMBER(4, 2)     NOT NULL,
    CONSTRAINT PK_GT_BATTERY PRIMARY KEY (TYPE_CODE_ID)
)
;

-- 
-- TABLE: GT_BATTERY_CHEM 
--

CREATE TABLE GT_BATTERY_CHEM(
    GT_BATTERY_CHEM_ID    NUMBER(10, 0)    NOT NULL,
    DESCRIPTION           VARCHAR2(256)    NOT NULL,
    CONSTRAINT PK_GT_BATTERY_CHEM PRIMARY KEY (GT_BATTERY_CHEM_ID)
)
;

-- 
-- TABLE: GT_MANUFAC_TYPE 
--

CREATE TABLE GT_MANUFAC_TYPE(
    GT_MANUFAC_TYPE_ID    NUMBER(10, 0)    NOT NULL,
    DESCRIPTION           VARCHAR2(255)    NOT NULL,
    ENERGY_REQ_SCORE      NUMBER(4, 2)     NOT NULL,
    WATER_REQ_SCORE       NUMBER(4, 2)     NOT NULL,
    WASTE_SCORE           NUMBER(4, 2)     NOT NULL,
    CONSTRAINT PK_GT_MANUFAC_TYPE PRIMARY KEY (GT_MANUFAC_TYPE_ID)
)
;



-- 
-- TABLE: GT_MAT_MAN_MAPPIING 
--

CREATE TABLE GT_MAT_MAN_MAPPIING(
    GT_MATERIAL_ID        NUMBER(10, 0)    NOT NULL,
    GT_MANUFAC_TYPE_ID    NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_MAT_MAN_MAPPIING PRIMARY KEY (GT_MATERIAL_ID, GT_MANUFAC_TYPE_ID)
)
;



-- 
-- TABLE: GT_MATERIAL 
--

CREATE TABLE GT_MATERIAL(
    GT_MATERIAL_ID          NUMBER(10, 0)    NOT NULL,
    DESCRIPTION             VARCHAR2(256)    NOT NULL,
    NATURAL                 NUMBER(1, 0)     DEFAULT 0 NOT NULL,
    ENV_IMPACT_SCORE        NUMBER(4, 2)     NOT NULL,
    GT_MATERIAL_GROUP_ID    NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_MATERIAL PRIMARY KEY (GT_MATERIAL_ID)
)
;



-- 
-- TABLE: GT_MATERIAL_GROUP 
--

CREATE TABLE GT_MATERIAL_GROUP(
    GT_MATERIAL_GROUP_ID    NUMBER(10, 0)    NOT NULL,
    DESCRIPTION             VARCHAR2(256)    NOT NULL,
    CONSTRAINT PK_GT_MATERIAL_GROUP PRIMARY KEY (GT_MATERIAL_GROUP_ID)
)
;

-- 
-- TABLE: GT_PDA_ACCRED_TYPE 
--

CREATE TABLE GT_PDA_ACCRED_TYPE(
    GT_PDA_ACCRED_TYPE_ID    NUMBER(10, 0)    NOT NULL,
    DESCRIPTION              VARCHAR2(255)    NOT NULL,
    CONSTRAINT PK_GT_PDA_ACCRED_TYPE PRIMARY KEY (GT_PDA_ACCRED_TYPE_ID)
)
;



-- 
-- TABLE: GT_PDA_BATTERY 
--

CREATE TABLE GT_PDA_BATTERY(
    PRODUCT_ID      NUMBER(10, 0)    NOT NULL,
    REVISION_ID     NUMBER(10, 0)    NOT NULL,
    TYPE_CODE_ID    NUMBER(10, 0)    NOT NULL,
    COUNT           NUMBER(10, 0)    NOT NULL,
    REMOVABLE       NUMBER(1, 0)     NOT NULL,
    CONSTRAINT PK_GT_PDA_BATTERY PRIMARY KEY (PRODUCT_ID, REVISION_ID, TYPE_CODE_ID, REMOVABLE)
)
;



-- 
-- TABLE: GT_PDA_HAZ_CHEM 
--

CREATE TABLE GT_PDA_HAZ_CHEM(
    GT_PDA_HAZ_CHEM_ID    NUMBER(10, 0)    NOT NULL,
    DESCRIPTION           VARCHAR2(255)    NOT NULL,
    SCORE                 NUMBER(4, 2)     NOT NULL,
    CONSTRAINT PK_GT_PDA_HAZ_CHEM PRIMARY KEY (GT_PDA_HAZ_CHEM_ID)
)
;



-- 
-- TABLE: GT_PDA_HC_ITEM 
--

CREATE TABLE GT_PDA_HC_ITEM(
    PRODUCT_ID                 NUMBER(10, 0)    NOT NULL,
    REVISION_ID                NUMBER(10, 0)    NOT NULL,
    GT_PDA_MATERIAL_ITEM_ID    NUMBER(10, 0)    NOT NULL,
    GT_PDA_HAZ_CHEM_ID         NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_PDA_HC_ITEM PRIMARY KEY (PRODUCT_ID, REVISION_ID, GT_PDA_MATERIAL_ITEM_ID, GT_PDA_HAZ_CHEM_ID)
)
;



-- 
-- TABLE: GT_PDA_HC_MAT_MAP 
--

CREATE TABLE GT_PDA_HC_MAT_MAP(
    GT_MATERIAL_ID        NUMBER(10, 0)    NOT NULL,
    GT_PDA_HAZ_CHEM_ID    NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_PDA_HC_MAT_MAP PRIMARY KEY (GT_MATERIAL_ID, GT_PDA_HAZ_CHEM_ID)
)
;



-- 
-- TABLE: GT_PDA_MATERIAL_ITEM 
--

CREATE TABLE GT_PDA_MATERIAL_ITEM(
    GT_PDA_MATERIAL_ITEM_ID      NUMBER(10, 0)    NOT NULL,
    PRODUCT_ID                   NUMBER(10, 0)    NOT NULL,
    REVISION_ID                  NUMBER(10, 0)    NOT NULL,
    GT_MATERIAL_ID               NUMBER(10, 0)    NOT NULL,
    PCT_OF_PRODUCT               NUMBER(6, 3)     NOT NULL,
    PCT_RECYCLED                 NUMBER(6, 3)     NOT NULL,
    GT_PDA_PROVENANCE_TYPE_ID    NUMBER(10, 0),
    GT_PDA_ACCRED_TYPE_ID        NUMBER(10, 0),
    GT_MANUFAC_TYPE_ID           NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_PDA_MATERIAL_ITEM PRIMARY KEY (GT_PDA_MATERIAL_ITEM_ID, PRODUCT_ID, REVISION_ID)
)
;


-- 
-- TABLE: GT_PDA_PROVENANCE_TYPE 
--

CREATE TABLE GT_PDA_PROVENANCE_TYPE(
    GT_PDA_PROVENANCE_TYPE_ID    NUMBER(10, 0)    NOT NULL,
    DESCRIPTION                  VARCHAR2(255)    NOT NULL,
    CONSTRAINT PK_GT_PDA_PROVENANCE_TYPE PRIMARY KEY (GT_PDA_PROVENANCE_TYPE_ID)
)
;



-- 
-- TABLE: GT_PDESIGN_ANSWERS 
--

CREATE TABLE GT_PDESIGN_ANSWERS(
    PRODUCT_ID                   NUMBER(10, 0)    NOT NULL,
    REVISION_ID                  NUMBER(10, 0)    NOT NULL,
    MATERIALS_SEPARATE           NUMBER(1, 0),
    CONTAINS_BATTERIES           NUMBER(1, 0),
    NO_PALM_PRESENT              NUMBER(1, 0)     DEFAULT 0 NOT NULL,
    NO_ENDANGERED_PRESENT        NUMBER(1, 0)     DEFAULT 0 NOT NULL,
    LEAVES_RESIDUE               NUMBER(1, 0),
    GT_ACCESS_VISC_TYPE_ID       NUMBER(10, 0),
    GT_ACCESS_PACK_TYPE_ID       NUMBER(10, 0),
    GT_PDA_DURABILITY_TYPE_ID    NUMBER(10, 0),
    CONSTRAINT PK_GT_PDESIGN_ANSWERS PRIMARY KEY (PRODUCT_ID, REVISION_ID)
)
;

-- 
-- TABLE: GT_PDA_ANC_MAT 
--

CREATE TABLE GT_PDA_ANC_MAT(
    GT_ANCILLARY_MATERIAL_ID    NUMBER(10, 0)    NOT NULL,
    REVISION_ID                 NUMBER(10, 0)    NOT NULL,
    PRODUCT_ID                  NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_PDA_ANC_MAT PRIMARY KEY (GT_ANCILLARY_MATERIAL_ID, REVISION_ID, PRODUCT_ID)
)
;

-- 
-- TABLE: GT_PDA_ENDANGERED_SP 
--

CREATE TABLE GT_PDA_ENDANGERED_SP(
    PRODUCT_ID                  NUMBER(10, 0)    NOT NULL,
    REVISION_ID                 NUMBER(10, 0)    NOT NULL,
    GT_ENDANGERED_SPECIES_ID    NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_PDA_ENDANGERED_SP PRIMARY KEY (PRODUCT_ID, REVISION_ID, GT_ENDANGERED_SPECIES_ID)
)
;

-- 
-- TABLE: GT_PDA_PALM_IND 
--

CREATE TABLE GT_PDA_PALM_IND(
    PRODUCT_ID           NUMBER(10, 0)    NOT NULL,
    REVISION_ID          NUMBER(10, 0)    NOT NULL,
    GT_PALM_INGRED_ID    NUMBER(10, 0)    NOT NULL,
    CONSTRAINT PK_GT_PDA_PALM_IND PRIMARY KEY (PRODUCT_ID, REVISION_ID, GT_PALM_INGRED_ID)
)
;

-- 
-- TABLE: GT_BATTERY 
--

ALTER TABLE GT_BATTERY ADD CONSTRAINT RefGT_BATTERY_CHEM748 
    FOREIGN KEY (GT_BATTERY_CHEM_ID)
    REFERENCES GT_BATTERY_CHEM(GT_BATTERY_CHEM_ID)
;

-- 
-- TABLE: GT_MAT_MAN_MAPPIING 
--

ALTER TABLE GT_MAT_MAN_MAPPIING ADD CONSTRAINT RefGT_MANUFAC_TYPE749 
    FOREIGN KEY (GT_MANUFAC_TYPE_ID)
    REFERENCES GT_MANUFAC_TYPE(GT_MANUFAC_TYPE_ID)
;

ALTER TABLE GT_MAT_MAN_MAPPIING ADD CONSTRAINT RefGT_MATERIAL750 
    FOREIGN KEY (GT_MATERIAL_ID)
    REFERENCES GT_MATERIAL(GT_MATERIAL_ID)
;


-- 
-- TABLE: GT_MATERIAL 
--

ALTER TABLE GT_MATERIAL ADD CONSTRAINT RefGT_MATERIAL_GROUP751 
    FOREIGN KEY (GT_MATERIAL_GROUP_ID)
    REFERENCES GT_MATERIAL_GROUP(GT_MATERIAL_GROUP_ID)
;

-- 
-- TABLE: GT_PDA_BATTERY 
--

ALTER TABLE GT_PDA_BATTERY ADD CONSTRAINT RefGT_PDESIGN_ANSWERS752 
    FOREIGN KEY (PRODUCT_ID, REVISION_ID)
    REFERENCES GT_PDESIGN_ANSWERS(PRODUCT_ID, REVISION_ID)
;

ALTER TABLE GT_PDA_BATTERY ADD CONSTRAINT RefGT_BATTERY753 
    FOREIGN KEY (TYPE_CODE_ID)
    REFERENCES GT_BATTERY(TYPE_CODE_ID)
;


-- 
-- TABLE: GT_PDA_HC_ITEM 
--

ALTER TABLE GT_PDA_HC_ITEM ADD CONSTRAINT RefGT_PDA_HAZ_CHEM784 
    FOREIGN KEY (GT_PDA_HAZ_CHEM_ID)
    REFERENCES GT_PDA_HAZ_CHEM(GT_PDA_HAZ_CHEM_ID)
;

ALTER TABLE GT_PDA_HC_ITEM ADD CONSTRAINT RefGT_PDA_MATERIAL_ITEM755 
    FOREIGN KEY (GT_PDA_MATERIAL_ITEM_ID, PRODUCT_ID, REVISION_ID)
    REFERENCES GT_PDA_MATERIAL_ITEM(GT_PDA_MATERIAL_ITEM_ID, PRODUCT_ID, REVISION_ID)
;


-- 
-- TABLE: GT_PDA_HC_MAT_MAP 
--

ALTER TABLE GT_PDA_HC_MAT_MAP ADD CONSTRAINT RefGT_PDA_HAZ_CHEM756 
    FOREIGN KEY (GT_PDA_HAZ_CHEM_ID)
    REFERENCES GT_PDA_HAZ_CHEM(GT_PDA_HAZ_CHEM_ID)
;

ALTER TABLE GT_PDA_HC_MAT_MAP ADD CONSTRAINT RefGT_MATERIAL757 
    FOREIGN KEY (GT_MATERIAL_ID)
    REFERENCES GT_MATERIAL(GT_MATERIAL_ID)
;


-- 
-- TABLE: GT_PDA_MATERIAL_ITEM 
--

ALTER TABLE GT_PDA_MATERIAL_ITEM ADD CONSTRAINT RefGT_MATERIAL758 
    FOREIGN KEY (GT_MATERIAL_ID)
    REFERENCES GT_MATERIAL(GT_MATERIAL_ID)
;

ALTER TABLE GT_PDA_MATERIAL_ITEM ADD CONSTRAINT RefGT_PDA_PROVENANCE_TYPE759 
    FOREIGN KEY (GT_PDA_PROVENANCE_TYPE_ID)
    REFERENCES GT_PDA_PROVENANCE_TYPE(GT_PDA_PROVENANCE_TYPE_ID)
;

ALTER TABLE GT_PDA_MATERIAL_ITEM ADD CONSTRAINT RefGT_PDA_ACCRED_TYPE760 
    FOREIGN KEY (GT_PDA_ACCRED_TYPE_ID)
    REFERENCES GT_PDA_ACCRED_TYPE(GT_PDA_ACCRED_TYPE_ID)
;

ALTER TABLE GT_PDA_MATERIAL_ITEM ADD CONSTRAINT RefGT_PDESIGN_ANSWERS761 
    FOREIGN KEY (PRODUCT_ID, REVISION_ID)
    REFERENCES GT_PDESIGN_ANSWERS(PRODUCT_ID, REVISION_ID)
;

ALTER TABLE GT_PDA_MATERIAL_ITEM ADD CONSTRAINT RefGT_MANUFAC_TYPE785 
    FOREIGN KEY (GT_MANUFAC_TYPE_ID)
    REFERENCES GT_MANUFAC_TYPE(GT_MANUFAC_TYPE_ID)
;

-- 
-- TABLE: GT_PDESIGN_ANSWERS 
--

ALTER TABLE GT_PDESIGN_ANSWERS ADD CONSTRAINT RefGT_ACCESS_VISC_TYPE762 
    FOREIGN KEY (GT_ACCESS_VISC_TYPE_ID)
    REFERENCES GT_ACCESS_VISC_TYPE(GT_ACCESS_VISC_TYPE_ID)
;

ALTER TABLE GT_PDESIGN_ANSWERS ADD CONSTRAINT RefGT_ACCESS_PACK_TYPE763 
    FOREIGN KEY (GT_ACCESS_PACK_TYPE_ID)
    REFERENCES GT_ACCESS_PACK_TYPE(GT_ACCESS_PACK_TYPE_ID)
;

ALTER TABLE GT_PDESIGN_ANSWERS ADD CONSTRAINT RefGT_ACCESS_PACK_MAPPING764 
    FOREIGN KEY (GT_ACCESS_PACK_TYPE_ID, GT_ACCESS_VISC_TYPE_ID)
    REFERENCES GT_ACCESS_PACK_MAPPING(GT_ACCESS_PACK_TYPE_ID, GT_ACCESS_VISC_TYPE_ID)
;

ALTER TABLE GT_PDESIGN_ANSWERS ADD CONSTRAINT RefPRODUCT_REVISION765 
    FOREIGN KEY (PRODUCT_ID, REVISION_ID)
    REFERENCES PRODUCT_REVISION(PRODUCT_ID, REVISION_ID)
;

ALTER TABLE GT_PDESIGN_ANSWERS ADD CONSTRAINT RefGT_PDA_DURABILITY_TYPE781 
    FOREIGN KEY (GT_PDA_DURABILITY_TYPE_ID)
    REFERENCES GT_PDA_DURABILITY_TYPE(GT_PDA_DURABILITY_TYPE_ID)
;

-- 
-- TABLE: GT_PDA_ANC_MAT 
--

ALTER TABLE GT_PDA_ANC_MAT ADD CONSTRAINT RefGT_ANCILLARY_MATERIAL768 
    FOREIGN KEY (GT_ANCILLARY_MATERIAL_ID)
    REFERENCES GT_ANCILLARY_MATERIAL(GT_ANCILLARY_MATERIAL_ID)
;

ALTER TABLE GT_PDA_ANC_MAT ADD CONSTRAINT RefGT_PDESIGN_ANSWERS773 
    FOREIGN KEY (PRODUCT_ID, REVISION_ID)
    REFERENCES GT_PDESIGN_ANSWERS(PRODUCT_ID, REVISION_ID)
;

-- 
-- TABLE: GT_PDA_ENDANGERED_SP 
--

ALTER TABLE GT_PDA_ENDANGERED_SP ADD CONSTRAINT RefGT_PDESIGN_ANSWERS774 
    FOREIGN KEY (PRODUCT_ID, REVISION_ID)
    REFERENCES GT_PDESIGN_ANSWERS(PRODUCT_ID, REVISION_ID)
;

ALTER TABLE GT_PDA_ENDANGERED_SP ADD CONSTRAINT RefGT_ENDANGERED_SPECIES775 
    FOREIGN KEY (GT_ENDANGERED_SPECIES_ID)
    REFERENCES GT_ENDANGERED_SPECIES(GT_ENDANGERED_SPECIES_ID)
;

-- 
-- TABLE: GT_PDA_PALM_IND 
--

ALTER TABLE GT_PDA_PALM_IND ADD CONSTRAINT RefGT_PDESIGN_ANSWERS778 
    FOREIGN KEY (PRODUCT_ID, REVISION_ID)
    REFERENCES GT_PDESIGN_ANSWERS(PRODUCT_ID, REVISION_ID)
;

ALTER TABLE GT_PDA_PALM_IND ADD CONSTRAINT RefGT_PALM_INGRED779 
    FOREIGN KEY (GT_PALM_INGRED_ID)
    REFERENCES GT_PALM_INGRED(GT_PALM_INGRED_ID)
;

-- 
-- SEQUENCE: GT_PDA_MATERIAL_ITEM_ID_SEQ 
--

CREATE SEQUENCE GT_PDA_MATERIAL_ITEM_ID_SEQ
    START WITH 1
    INCREMENT BY 1
    NOMINVALUE
    NOMAXVALUE
    CACHE 20
    NOORDER
;

@update_tail