BEGIN
	EXECUTE IMMEDIATE 'DROP USER profiler CASCADE';
EXCEPTION
	WHEN OTHERS THEN
		-- allow ORA-01918: user 'PROFILER' does not exist
		IF SQLCODE <> -01918 THEN
			RAISE;
		END IF;
END;
/

CREATE USER profiler IDENTIFIED BY profiler TEMPORARY TABLESPACE TEMP DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;

GRANT CREATE SESSION TO profiler;

GRANT ALTER ANY TABLE TO profiler;
GRANT COMMENT ANY TABLE TO profiler;
GRANT CREATE ANY TABLE TO profiler;
GRANT DROP ANY TABLE TO profiler;
GRANT SELECT ANY TABLE TO profiler;

GRANT CREATE ANY PROCEDURE TO profiler;
GRANT DROP ANY PROCEDURE TO profiler;
GRANT EXECUTE ANY PROCEDURE TO profiler;

GRANT CREATE ANY TYPE TO profiler;
GRANT DROP ANY TYPE TO profiler;
GRANT EXECUTE ANY TYPE TO profiler;

GRANT CREATE SEQUENCE TO profiler;

GRANT EXECUTE ON csr.unit_test_pkg TO profiler;

GRANT GRANT ANY OBJECT PRIVILEGE TO profiler;

GRANT CREATE ANY INDEX TO profiler;

GRANT CREATE ANY OPERATOR TO profiler;

GRANT CREATE ANY TRIGGER TO profiler;

-- now log in as profiler/profiler and run @@proftab

